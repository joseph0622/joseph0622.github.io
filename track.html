


<!DOCTYPE html>

<html lang="en">

  <head>

    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>RetroTrackor</title>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
	<!--<script src="https://smtpjs.com/v3/smtp.js"></script>-->
	 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- Styles -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/web3/4.2.0/web3.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/web3/4.2.0/web3.min.js.map"></script>
	
    <style>

      body {
		background-color: black;
		color: #d9b584;
        padding-top: 15px;

      }

      h1 {

        margin: 15px 0px;

      }
	  
	  .alert {
		color: red;
	  }
	  
	  .eth.price, .arb.price {
		font-weight: bold;
	  }

    </style>

  </head>

  <body>

    <div class="container">

      <div class="row">

        <div class="col-lg-12 text-center" >

          <div class="container">
			SYMM: <span class="symm price"></span>&nbsp;deus: <span class="deus price"></span>&nbsp;croc: <span class="croc price"></span><br/>
			eth: <span class="eth price"></span>&nbsp;btc: <span class="btc price"></span>&nbsp;arb: <span class="arb price"></span><br/>
			thena: <span class="thena price"></span>&nbsp;ram: <span class="ram price"></span>&nbsp;aero: <span class="aero price"></span><br/>			
			<!-- tkn: <span class="tkn price"></span>&nbsp;chi: <span class="chi price"></span>&nbsp;wukre: <span class="wukre price"></span>&nbsp;zen: <span class="zen price"></span><br/> -->
			<!-- more:<span class="more price"></span>&nbsp;pearl:<span class="pearl price"></span>&nbsp;cvr:<span class="cvr price"></span>&nbsp;ukre:<span class="ukre price"></span><br/> -->
			&nbsp;WS:<span class="ws price"></span>&nbsp;BLACK:<span class="black price"></span>&nbsp;REX:<span class="rex price"></span><br/>
			EURC: <span class="eurc price"></span>&nbsp;AVAX: <span class="avax price"></span>&nbsp;SUPER: <span class="super price"></span>&nbsp;
			<!--gamma:<span class="gammaTvl"></span>&nbsp;retro:<span class="retroTvl"></span>&nbsp;total:<span class="userTvl"></span>&nbsp;r:<span class="avgApr"></span>%-->
          </div>
		  <br/>
		  <!--
		  <h6>Aero</h6>
		  <div class="container">
			aero: <span class="uaero usage"></span> / <span class="uaero supply"></span><br/>
			usdc: <span class="uusdc usage"></span> / <span class="uusdc supply"></span><br/>
          </div>
		  -->	 
		  <h6>Silo</h6>
		  <div class="container">
			<span class="siloHealthRatio"></span>&nbsp;
			usdc supply: <span class="susdc supply"></span>&nbsp;ws borrow: <span class="sws borrow"></span>&nbsp;<br/>
          </div>
		  <h6>Aave</h6>
		  <div class="container">
			<span class="aaveHealthRatio"></span>&nbsp;
			ws supply: <span class="aws supply"></span>&nbsp;usdc borrow: <span class="ausdc borrow"></span>&nbsp;<br/>
          </div>
		  <!--
		  <h6>Radi</h6>
		  <div class="container">
			<span class="radiHealthRatio"></span>&nbsp;
			eth supply: <span class="reth supply"></span>&nbsp;</span>&nbsp;usdc borrow: <span class="rusdc borrow"></span>&nbsp;<br/>
          </div>
		  
		  <br/>
		  <h6>Arcadia</h6>
		  <div class="container">
			<span class="arc healthRatio"></span>&nbsp;
			net: <span class="arc netValue"></span>&nbsp;</span>&nbsp;tick: <span class="arc tick"></span>&nbsp;<br/>
          </div>
		  -->
		  <!--
		  <br/>
		  <div class="container">
			<span class="aaveHealthRatio"></span>&nbsp;
			usdc - supply: <span class="ausdc supply"></span>&nbsp;borrow: <span class="avax borrow"></span>&nbsp;<br/>
          </div>
		  -->
		  <!--
		  <h6>Dolo</h6>
		  <div class="container">
			<span class="dethHealthRatio"></span>&nbsp;
			eth - supply: <span class="deth supply"></span>&nbsp;borrow: <span class="deth borrow"></span>&nbsp;<br/>
          </div>
		  <div class="container">
			<span class="darbHealthRatio"></span>&nbsp;
			arb - supply: <span class="darb supply"></span>&nbsp;borrow: <span class="darb borrow"></span>&nbsp;<br/>
          </div>
		  -->
		  <br/>
		  <!--<div class="container">
			<span class="btcHealthRatio"></span>&nbsp;
			btc supply: <span class="btc supply"></span>&nbsp;eth borrow: <span class="btc eth borrow"></span>&nbsp;<br/>
          </div> -->
		  <!-- <div class="container">
			<span class="aethHealthRatio"></span>&nbsp;
			aeth supply: <span class="aeth supply"></span>&nbsp;alink borrow: <span class="alink borrow"></span>&nbsp;<br/>
          </div> -->
		  <!-- 
		  <br/>
		  <h6>Dolo</h6>
		  <div class="container">
			<span class="dethHealthRatio"></span>&nbsp;
			eth - supply: <span class="deth supply"></span>&nbsp;borrow: <span class="deth borrow"></span>&nbsp;<br/>
          </div>
		  <div class="container">
			<span class="darbHealthRatio"></span>&nbsp;
			arb - supply: <span class="darb supply"></span>&nbsp;borrow: <span class="darb borrow"></span>&nbsp;<br/>
          </div>
		  -->
		  <br/>
          <table class="table">

            <thead>

              <tr>
				<th scope="col">0</th>
                <th scope="col">1</th>
                <th scope="col">0</th>
                <th scope="col">1</th>
                <th scope="col">Total</th>
				<th scope="col">InRange</th>
				<th scope="col">R</th>
				<th scope="col">Reward</th>
              </tr>

            </thead>

            <tbody>
				<tr>
					<td class="t0"></td>
					<td class="t1"></td>
					<td class="bal0"></td>
					<td class="bal1"></td>
					<td class="total"></td>
					<td class="inrange"></td>
					<td class="apr"></td>
					<td class="reward"></td>
				</tr>
            </tbody>
			<tfoot style="display:none;">
				<tr class="polygon">
					<td class="t0"></td>
					<td class="t1"></td>
					<td class="bal0"></td>
					<td class="bal1"></td>
					<td class="total"></td>
					<td class="inrange"></td>
					<td class="apr"></td>
					<td class="reward"></td>
				</tr>
				<tr class="arb">
					<td class="t0"></td>
					<td class="t1"></td>
					<td class="bal0"></td>
					<td class="bal1"></td>
					<td class="total"></td>
					<td class="inrange"></td>
					<td class="apr"></td>
					<td class="reward"></td>
				</tr>
				<tr class="eth">
					<td class="t0"></td>
					<td class="t1"></td>
					<td class="bal0"></td>
					<td class="bal1"></td>
					<td class="total"></td>
					<td class="inrange"></td>
					<td class="apr"></td>
					<td class="reward"></td>
				</tr>
				<tr class="ram">
					<td class="t0"></td>
					<td class="t1"></td>
					<td class="bal0"></td>
					<td class="bal1"></td>
					<td class="total"></td>
					<td class="inrange"></td>
					<td colspan="2" class="reward"></td>
				</tr>
				<tr class="gamma">
					<td class="t0"></td>
					<td class="t1"></td>
					<td class="bal0"></td>
					<td class="bal1"></td>
					<td class="total"></td>
					<td class="inrange"></td>
					<td colspan="2" class="reward"></td>
				</tr>
				<tr class="avax">
					<td class="t0"></td>
					<td class="t1"></td>
					<td class="bal0"></td>
					<td class="bal1"></td>
					<td class="total"></td>
					<td class="inrange"></td>
					<td colspan="2" class="reward"></td>
				</tr>
          </table>

		  <br/>

        </div>

      </div>

    </div>

    <!-- Web3 -->

    <script>
		var web3 = new Web3('https://arb1.arbitrum.io/rpc');
		var avaxWeb3 = new Web3('https://avalanche-c-chain-rpc.publicnode.com');
		var rpc = 'https://arb1.arbitrum.io/rpc';
		var avaxRpc = 'https://avalanche-c-chain-rpc.publicnode.com';
		var baseRpc = 'https://mainnet.base.org';
		var sonicRpc = 'https://rpc.soniclabs.com';
		var ztxPrice = 0;
		var oretroPrice = 0;
		var usdcePrice = 0;
		var btcPrice = 0;
		var ethPrice = 0;
		var wstEthPrice = 0;
		var cbEthPrice = 0;
		var avaxPrice = 0;
		var arbPrice = 0;
		var ramPrice = 0;
		var linkPrice = 0;
		var bluePrice = 0;
		var pharPrice = 0;
		var lastmail = '';
		var lastcall = '';
		var ztxReward = 0;
		var retroReward = 0;
		var ztxTvl = 0;
		var retroTvl = 0;
		var gammaTvl = 0;
		var aprMap = new Map();
		var userTvl = 0;
		//var clBtc = 0.2789;
		var showToken = [];
		var tokenAbi = [{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}];
		var ethSupply = 0;
		var usdcSupply = 1;
		var susdcSupply = 0;
		var swsBorrow = 0;
		var aethSupply = 0;
		var ausdcSupply = 0;
		var awsSupply = 0;
		var ausdcBorrow = 0;
		var btcSupply = 0;
		var arbBorrow = 0;
		var ethBorrow = 0;
		var avaxBorrow = 0;
		var usdcBorrow = 0;
		var alinkBorrow = 0;
		var ethUsdcBorrow = 0;
		var ethBorrow = 0;
		var healthRatio = 0;
		var rEth = 0;
		var rCbEth = 0;
		var rCbBtc = 0;
		var rdUsdc = 0;
		var cBtcPrice = 0;
		var trackjob = false;
		
		function getSilo(){	
			/*$.ajax({
				type : "GET",
				url: "https://api.dexscreener.com/latest/dex/pairs/arbitrum/0xabc27aa4e47ce3b5591093de87ab7abeafb3afa0",
				dataType: "json",
				success : function(data) {
					$("span.price.link").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
					linkPrice = data.pair.priceUsd;
				},
				error: function (e) {
				}
			});*/
			/*
			$.ajax({
				type : "POST",
				url: rpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0xe50fA9b3c56FfB159cB0FCA61F5c9D750e8128c8"},"latest"]}',
				success : function(data) {
					var supplyEth = web3.eth.abi.decodeParameter('uint256', data.result);					
					aethSupply = String(supplyEth.toString()).slice(0, -15) / 1000;
					
					if(ethPrice >0 && linkPrice > 0){
						$(".aeth.supply").text(aethSupply + " (" + (Math.floor(aethSupply * ethPrice * 100) / 100) + ")");
						
						if(aethSupply > 0 && alinkBorrow > 0){
							healthRatio = Math.floor((1 - ((Math.floor(alinkBorrow * linkPrice * 100) / 100) / (Math.floor(aethSupply * ethPrice * 100) / 100) / 0.85))*100);
							
							$(".aethHealthRatio").text(healthRatio + "%");
							
							if(healthRatio <= 10){
								alertCall('aave');
							}
						}
					}
				},
				error: function (e) {
				}
			});
			*/
			/*$.ajax({
				type : "GET",
				url: "https://api.dexscreener.com/latest/dex/pairs/avalanche/0xd446eb1660f766d533beceef890df7a69d26f7d1",
				dataType: "json",
				success : function(data) {
					$("span.price.avax").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
					avaxPrice = data.pair.priceUsd;
				},
				error: function (e) {
				}
			});*/
			
			/*$.ajax({
				type : "POST",
				url: avaxRpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x625e7708f30ca75bfd92586e17077590c60eb4cd"},"latest"]}',
				success : function(data) {
					var supplyUsdc = web3.eth.abi.decodeParameter('uint256', data.result);					
					ausdcSupply = String(supplyUsdc.toString()).slice(0, -3) / 1000;
					
					if(avaxPrice >0){
						$(".ausdc.supply").text(ausdcSupply);
						
						if(ausdcSupply > 0 && avaxBorrow > 0){
							healthRatio = Math.floor((1 - ((Math.floor(avaxBorrow * avaxPrice * 100) / 100) / (Math.floor(ausdcSupply * 1 * 100) / 100) / 0.85))*100);
							
							$(".aaveHealthRatio").text(healthRatio + "%");
							
							if(healthRatio <= 10){
								alertCall('aave');
							}
						}
					}
				},
				error: function (e) {
				}
			});
			
			$.ajax({
				type : "POST",
				url: avaxRpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x4a1c3ad6ed28a636ee1751c69071f6be75deb8b8"},"latest"]}',
				success : function(data) {
					var borrowAvax = web3.eth.abi.decodeParameter('uint256', data.result);					
					avaxBorrow = String(borrowAvax.toString()).slice(0, -15) / 1000;
					
					if(avaxPrice >0){
						$(".avax.borrow").text(avaxBorrow + ' avax (' + (Math.floor(avaxBorrow * avaxPrice * 100) / 100) + ')');
						
						if(ausdcSupply > 0 && avaxBorrow > 0){
							healthRatio = Math.floor((1 - ((Math.floor(avaxBorrow * avaxPrice * 100) / 100) / (Math.floor(ausdcSupply * 1 * 100) / 100) / 0.85))*100);
							
							$(".aaveHealthRatio").text(healthRatio + "%");
							
							if(healthRatio <= 10){
								alertCall('aave');
							}
						}
					}
				},
				error: function (e) {
				}
			});
			*/
			
			$.ajax({
				type : "POST",
				url: sonicRpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x322e1d5384aa4ed66aeca770b95686271de61dc3"},"latest"]}',
				success : function(data) {
					var supplyUsdc = web3.eth.abi.decodeParameter('uint256', data.result);					
					susdcSupply = String(supplyUsdc.toString()).slice(0, -6) / 1000;
					
					if(susdcSupply > 0){
						$(".susdc.supply").text(susdcSupply);
						
						if(susdcSupply > 0 && swsBorrow > 0 && wsPrice > 0){
							healthRatio = Math.floor((1 - ((Math.floor(swsBorrow * wsPrice)) / (Math.floor(susdcSupply) * 0.8)))*100);
							
							$(".siloHealthRatio").text(healthRatio + "%");
							
							if(healthRatio <= 10){
								alertCall('silo');
							}
						}
					}
				},
				error: function (e) {
				}
			});
			
			$.ajax({
				type : "POST",
				url: sonicRpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0xe5c066b23c7a97899646b0bbe69f3e8bc4b61c1c"},"latest"]}',
				success : function(data) {
					var borrowWs = web3.eth.abi.decodeParameter('uint256', data.result);					
					swsBorrow = String(borrowWs.toString()).slice(0, -15) / 1000;
					
					if(swsBorrow > 0){
						$(".sws.borrow").text(swsBorrow);
						
						if(susdcSupply > 0 && swsBorrow > 0 && wsPrice > 0){
							healthRatio = Math.floor((1 - ((Math.floor(swsBorrow * wsPrice)) / (Math.floor(susdcSupply) * 0.8)))*100);
							
							$(".siloHealthRatio").text(healthRatio + "%");
							
							if(healthRatio <= 10){
								alertCall('silo');
							}
						}
					}
				},
				error: function (e) {
				}
			});
			
			/*
			$.ajax({
				type : "POST",
				url: rpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x55ADE3B74abef55bF379FF6Ae61CB77a405Eb4A8"},"latest"]}',
				success : function(data) {
					var supplyUsdc = web3.eth.abi.decodeParameter('uint256', data.result);					
					usdcSupply = String(supplyUsdc.toString()).slice(0, -3) / 1000;
					
					if(ethPrice >0 && arbPrice > 0){
						$(".usdc.supply").text(usdcSupply + " (" + (Math.floor(usdcSupply * 1 * 100) / 100) + ")");
						
						if(ethSupply > 0 && usdcSupply >= 0 && arbBorrow > 0){
							healthRatio = Math.floor((1 - ((Math.floor(arbBorrow * arbPrice) + Math.floor(usdcBorrow * (usdcePrice || 1))) / ((Math.floor(ethSupply * ethPrice) * 0.85) + (Math.floor(usdcSupply * (usdcePrice || 1)) * 0.9))))*100);
							
							$(".ethHealthRatio").text(healthRatio + "%");
							
							if(healthRatio <= 10){
								alertCall('silo');
							}
						}
					}
				},
				error: function (e) {
				}
			});
			
			$.ajax({
				type : "POST",
				url: rpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x0c6c638dc7f38762dd66cb64f54929f9b4d4adf5"},"latest"]}',
				success : function(data) {
					var borrowArb = web3.eth.abi.decodeParameter('uint256', data.result);					
					arbBorrow = String(borrowArb).slice(0, -15) / 1000;
					
					if(ethPrice >0 && arbPrice > 0 && arbBorrow > 0){
						$(".arb.borrow").text(arbBorrow + " (" + (Math.floor(arbBorrow * arbPrice * 100) / 100) + ")");
						
						if(ethSupply > 0 && usdcSupply >= 0){
							healthRatio = Math.floor((1 - ((Math.floor(arbBorrow * arbPrice) + Math.floor(usdcBorrow * (usdcePrice || 1))) / ((Math.floor(ethSupply * ethPrice) * 0.85) + (Math.floor(usdcSupply * (usdcePrice || 1)) * 0.9))))*100);
							
							$(".ethHealthRatio").text(healthRatio + "%");
							
							if(healthRatio <= 10){
								alertCall('silo');
							}
						}
					}
				},
				error: function (e) {
				}
			});
			
			$.ajax({
				type : "POST",
				url: rpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x985bbaf88f91c39abe78f83ba6f5688e926b6537"},"latest"]}',
				success : function(data) {
					var borrowUsdc = web3.eth.abi.decodeParameter('uint256', data.result);					
					usdcBorrow = String(borrowUsdc).slice(0, -3) / 1000;
					
					if(ethPrice >0 && arbPrice > 0 && arbBorrow > 0){
						$(".usdc.borrow").text(usdcBorrow + " (" + (Math.floor(usdcBorrow * (usdcePrice || 1) * 100) / 100) + ")");
						
						if(ethSupply > 0 && usdcSupply >= 0){
							healthRatio = Math.floor((1 - ((Math.floor(arbBorrow * arbPrice) + Math.floor(usdcBorrow * (usdcePrice || 1))) / ((Math.floor(ethSupply * ethPrice) * 0.85) + (Math.floor(usdcSupply * (usdcePrice || 1)) * 0.9))))*100);
							
							$(".ethHealthRatio").text(healthRatio + "%");
							
							if(healthRatio <= 10){
								alertCall('silo');
							}
						}
					}
				},
				error: function (e) {
				}
			});
			
			$.ajax({
				type : "POST",
				url: rpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x0c6c638dc7f38762dd66cb64f54929f9b4d4adf5"},"latest"]}',
				success : function(data) {
					var borrowArb = web3.eth.abi.decodeParameter('uint256', data.result);					
					arbBorrow = String(borrowArb).slice(0, -15) / 1000;
					
					if(ethPrice >0 && arbPrice > 0){
						$(".arb.borrow").text(arbBorrow + " (" + (Math.floor(arbBorrow * arbPrice * 100) / 100) + ")");
						
						if(ethSupply > 0 && usdcSupply > 0){
							healthRatio = Math.floor((1 - ((Math.floor(arbBorrow * arbPrice)) / ((Math.floor(ethSupply * ethPrice) * 0.85) + (Math.floor(usdcSupply * (usdcePrice || 1)) * 0.9))))*100);
							
							$(".ethHealthRatio").text(healthRatio + "%");
							
							if(healthRatio <= 10){
								alertCall('silo');
							}
						}
					}
				},
				error: function (e) {
				}
			});
			
			
			$.ajax({
				type : "POST",
				url: rpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x86b25620401413d99c17dcebd2885477cb1737e1"},"latest"]}',
				success : function(data) {
					var borrowEth = web3.eth.abi.decodeParameter('uint256', data.result);					
					ethBorrow = String(borrowEth).slice(0, -15) / 1000;
					
					if(ethPrice >0 && arbPrice > 0){
						$(".eth.borrow").text(ethBorrow + " (" + (Math.floor(ethBorrow * ethPrice * 100) / 100) + ")");
						
						if(usdcSupply > 0){
							healthRatio = Math.floor((1 - (((Math.floor(arbBorrow * arbPrice * 100) / 100) + (Math.floor(ethBorrow * ethPrice * 100) / 100)) / (Math.floor(usdcSupply * usdcePrice * 100) / 100) / 0.9))*100);
							
							$(".ethHealthRatio").text(healthRatio + "%");
							
							if(healthRatio <= 10){
								alertCall('silo');
							}
						}
					}
				},
				error: function (e) {
				}
			});
			
			
			$.ajax({
				type : "POST",
				url: rpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x29Aa259659402c6280620048e976537ff9AFFdbB"},"latest"]}',
				success : function(data) {
					var supplyBtc = web3.eth.abi.decodeParameter('uint256', data.result);					
					btcSupply = String(supplyBtc.toString()).slice(0, -5) / 1000;
					
					if(btcPrice >0){
						$(".btc.supply").text(btcSupply + " (" + (Math.floor(btcSupply * btcPrice * 100) / 100) + ")");
						
						if(btcSupply > 0 && ethBorrow > 0){
							healthRatio = Math.floor((1 - ((Math.floor(ethBorrow * ethPrice * 100) / 100) / (Math.floor(btcSupply * btcPrice * 100) / 100) / 0.75))*100);
							
							$(".btcHealthRatio").text(healthRatio + "%");
							
							if(healthRatio <= 10){
								alertCall('silo');
							}
						}
					}
				},
				error: function (e) {
				}
			});*/
			
			/*
			$.ajax({
				type : "POST",
				url: rpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x953A573793604aF8d41F306FEb8274190dB4aE0e"},"latest"]}',
				success : function(data) {
					var borrowLink = web3.eth.abi.decodeParameter('uint256', data.result);					
					alinkBorrow = String(borrowLink).slice(0, -15) / 1000;
					
					if(ethPrice >0 && linkPrice > 0){
						$(".alink.borrow").text(alinkBorrow + " (" + (Math.floor(alinkBorrow * linkPrice * 100) / 100) + ")");
						
						if(aethSupply > 0 && alinkBorrow > 0){
							healthRatio = Math.floor((1 - ((Math.floor(alinkBorrow * linkPrice * 100) / 100) / (Math.floor(aethSupply * ethPrice * 100) / 100) / 0.85))*100);
							
							$(".aethHealthRatio").text(healthRatio + "%");
							
							if(healthRatio <= 10){
								alertCall('aave');
							}
						}
					}
				},
				error: function (e) {
				}
			});*/
			
			/*
			$.ajax({
				type : "POST",
				url: rpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x0070f71fcc0f21a976f21a81d770a7d5ceb5e1e1"},"latest"]}',
				success : function(data) {
					var borrowEth = web3.eth.abi.decodeParameter('uint256', data.result);					
					ethBorrow = String(borrowEth).slice(0, -15) / 1000;
					
					if(ethPrice >0 && btcPrice > 0){
						$(".btc.eth.borrow").text(ethBorrow + " (" + (Math.floor(ethBorrow * ethPrice * 100) / 100) + ")");
						
						if(btcSupply > 0 && ethBorrow > 0){
							healthRatio = Math.floor((1 - ((Math.floor(ethBorrow * ethPrice * 100) / 100) / (Math.floor(btcSupply * btcPrice * 100) / 100) / 0.75))*100);
							
							$(".btcHealthRatio").text(healthRatio + "%");
							
							if(healthRatio <= 10){
								alertCall('silo');
							}
						}
					}
				},
				error: function (e) {
				}
			});
			*/
			
		}
		
		function getAave(){
			$.ajax({
				type : "POST",
				url: sonicRpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x6C5E14A212c1C3e4Baf6f871ac9B1a969918c131"},"latest"]}',
				success : function(data) {
					var supplyWs = web3.eth.abi.decodeParameter('uint256', data.result);					
					awsSupply = String(supplyWs.toString()).slice(0, -15) / 1000;
					
					if(awsSupply > 0){
						$(".aws.supply").text(awsSupply);
						
						if(awsSupply > 0 && ausdcBorrow > 0 && wsPrice > 0){
							healthRatio = Math.floor((1 - ((Math.floor(ausdcBorrow)) / (Math.floor(awsSupply * wsPrice) * 0.7)))*100);
							
							$(".aaveHealthRatio").text(healthRatio + "%");
							
							if(healthRatio <= 10){
								alertCall('aave');
							}
						}
					}
				},
				error: function (e) {
				}
			});
			
			$.ajax({
				type : "POST",
				url: sonicRpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x2273caBAd63b7D247A6b107E723c803fc49953A0"},"latest"]}',
				success : function(data) {
					var borrowUsdc = web3.eth.abi.decodeParameter('uint256', data.result);					
					ausdcBorrow = String(borrowUsdc.toString()).slice(0, -3) / 1000;
					
					if(borrowUsdc > 0){
						$(".ausdc.borrow").text(ausdcBorrow);
						
						if(awsSupply > 0 && ausdcBorrow > 0 && wsPrice > 0){
							healthRatio = Math.floor((1 - ((Math.floor(ausdcBorrow)) / (Math.floor(awsSupply * wsPrice) * 0.7)))*100);
							
							$(".aaveHealthRatio").text(healthRatio + "%");
							
							if(healthRatio <= 10){
								alertCall('aave');
							}
						}
					}
				},
				error: function (e) {
				}
			});
		}
		
		function getBaseSilo(){
			$.ajax({
				type : "GET",
				url: "https://api.dexscreener.com/latest/dex/pairs/base/0x70acdf2ad0bf2402c957154f944c19ef4e1cbae1",
				dataType: "json",
				success : function(data) {
					$("span.price.cBtc").text(data.pair.priceUsd);
					cBtcPrice = data.pair.priceUsd;
				},
				error: function (e) {
				}
			});
			
		
			$.ajax({
				type : "POST",
				url: baseRpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x045a8e383b64378faf7fc73fdef6049cc0c05c85"},"latest"]}',
				success : function(data) {
					var supplyEth = web3.eth.abi.decodeParameter('uint256', data.result);					
					ethSupply = String(supplyEth.toString()).slice(0, -15) / 1000;
					
					if(ethPrice >0 && cBtcPrice > 0){
						$(".eth.supply").text(ethSupply + " (" + (Math.floor(ethSupply * ethPrice * 100) / 100) + ")");
						
						if(ethSupply > 0 && btcSupply >= 0 && usdcBorrow > 0){
							healthRatio = Math.floor((1 - (Math.floor(usdcBorrow)) / ((Math.floor(ethSupply * ethPrice) * 0.85) + (Math.floor(btcSupply * (cBtcPrice)) * 0.9)))*100);
							
							$(".siloHealthRatio").text(healthRatio + "%");
							
							if(healthRatio < 10){
								alertCall('silo');
							}
						}
					}
				},
				error: function (e) {
				}
			});					
			
			$.ajax({
				type : "POST",
				url: baseRpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x9019cd36d21879ae8b1cc701327de9fd1e142cda"},"latest"]}',
				success : function(data) {
					var borrowUsdc = web3.eth.abi.decodeParameter('uint256', data.result);					
					usdcBorrow = String(borrowUsdc).slice(0, -3) / 1000;
					
					if(ethPrice >0 && cBtcPrice > 0){
						$(".usdc.borrow").text(usdcBorrow + " (" + (Math.floor(usdcBorrow) + ")"));
						
						if(ethSupply > 0 && btcSupply >= 0 && usdcBorrow > 0){
							healthRatio = Math.floor((1 - (Math.floor(usdcBorrow)) / ((Math.floor(ethSupply * ethPrice) * 0.85) + (Math.floor(btcSupply * (cBtcPrice)) * 0.9)))*100);
							
							$(".siloHealthRatio").text(healthRatio + "%");
							
							if(healthRatio < 10){
								alertCall('silo');
							}
						}
					}
				},
				error: function (e) {
				}
			});
			
			
			$.ajax({
				type : "POST",
				url: baseRpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x6b69a1cdc054c3d873a882ef53bd0612422c365f"},"latest"]}',
				success : function(data) {
					var supplyBtc = web3.eth.abi.decodeParameter('uint256', data.result);					
					btcSupply = String(supplyBtc.toString()).slice(0, -5) / 1000;
					
					if(ethPrice >0 && cBtcPrice > 0){
						$(".cBtc.supply").text(btcSupply + " (" + Math.floor(btcSupply * (cBtcPrice)) + ")");
						
						if(ethSupply > 0 && btcSupply >= 0 && usdcBorrow > 0){
							healthRatio = Math.floor((1 - (Math.floor(usdcBorrow)) / ((Math.floor(ethSupply * ethPrice) * 0.85) + (Math.floor(btcSupply * (cBtcPrice)) * 0.9)))*100);
							
							$(".siloHealthRatio").text(healthRatio + "%");
							
							if(healthRatio < 10){
								alertCall('silo');
							}
						}
					}
				},
				error: function (e) {
				}
			});
		}
		
		function getRadi(){						
			$.ajax({
				type : "GET",
				url: "https://api.dexscreener.com/latest/dex/pairs/base/0x70acdf2ad0bf2402c957154f944c19ef4e1cbae1",
				dataType: "json",
				success : function(data) {
					$("span.price.cBtc").text(data.pair.priceUsd);
					cBtcPrice = data.pair.priceUsd;
				},
				error: function (e) {
				}
			});
		
			$.ajax({
				type : "GET",
				url: 'https://min-api.cryptocompare.com/data/pricemultifull?fsyms=ETH&tsyms=USD',
				contentType: 'application/json',
				success : function(data) {
					ethPrice = data.RAW.ETH.USD.PRICE;
					if(ethPrice >= 4100){
						alertCall('eth');
					}
				},
				error: function (e) {
				}
			});
			
			$.ajax({
				type : "GET",
				url: "https://api.dexscreener.com/latest/dex/pairs/base/0xa6385c73961dd9c58db2ef0c4eb98ce4b60651e8",
				dataType: "json",
				success : function(data) {
					wstEthPrice = data.pair.priceUsd;
					if(wstEthPrice >= 4300){
						alertCall('wsteth');
					}
				},
				error: function (e) {
				}
			});
			
			$.ajax({
				type : "GET",
				url: "https://api.dexscreener.com/latest/dex/pairs/base/0x91f0f34916ca4e2cce120116774b0e4fa0cdcaa8",
				dataType: "json",
				success : function(data) {
					cbEthPrice = data.pair.priceUsd;
				},
				error: function (e) {
				}
			});
			
			$.ajax({
				type : "GET",
				url: "https://api.dexscreener.com/latest/dex/pairs/avalanche/0x0d9fd6dd9b1ff55fb0a9bb0e5f1b6a2d65b741a3",
				dataType: "json",
				success : function(data) {
					$("span.price.black").text(data.pair.priceUsd);
				},
				error: function (e) {
				}
			});
			
			
		
			$.ajax({
				type : "POST",
				url: baseRpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x392376c337413ce2e9ad7dd5f3468ae58f323b00"},"latest"]}',
				success : function(data) {
					var borrowUsdc = web3.eth.abi.decodeParameter('uint256', data.result);					
					rdUsdc = String(borrowUsdc.toString()).slice(0, -3) / 1000;
					$(".rusdc.borrow").text(rdUsdc);
					
					if(cBtcPrice > 0 && ethPrice >0 && cbEthPrice > 0 && rdUsdc > 0){
						$(".reth.supply").text((rEth + rCbEth) + " (" + (Math.floor(((rEth * ethPrice) + (rCbEth * cbEthPrice) + (rCbBtc * cBtcPrice)) * 100) / 100) + ")");
						
						if(rEth > 0 && rCbEth > 0 && rdUsdc > 0){
							healthRatio = Math.floor((1 - ((Math.floor(rdUsdc * 100) / 100) / (Math.floor(((rEth * ethPrice) + (rCbEth * cbEthPrice) + (rCbBtc * cBtcPrice)) * 100) / 100) / 0.75))*100);
							
							$(".radiHealthRatio").text(healthRatio + "%");
							
							if(healthRatio <= 10){
								alertCall('radi');
							}
						}
					}
				},
				error: function (e) {
				}
			});
			
			$.ajax({
				type : "POST",
				url: baseRpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x633ebd78e0ebe2ff2e2e169a4010b9ca4f7bcaa1"},"latest"]}',
				success : function(data) {
					var supplyBtc = web3.eth.abi.decodeParameter('uint256', data.result);					
					rCbBtc = String(supplyBtc.toString()).slice(0, -5) / 1000;
					
					if(cBtcPrice > 0 && ethPrice >0 && cbEthPrice > 0 && rdUsdc > 0){
						$(".reth.supply").text((rEth + rCbEth) + " (" + (Math.floor(((rEth * ethPrice) + (rCbEth * cbEthPrice) + (rCbBtc * cBtcPrice)) * 100) / 100) + ")");
						
						if(rEth > 0 && rCbEth > 0 && rdUsdc > 0){
							healthRatio = Math.floor((1 - ((Math.floor(rdUsdc * 100) / 100) / (Math.floor(((rEth * ethPrice) + (rCbEth * cbEthPrice) + (rCbBtc * cBtcPrice)) * 100) / 100) / 0.75))*100);
							
							$(".radiHealthRatio").text(healthRatio + "%");
							
							if(healthRatio <= 10){
								alertCall('radi');
							}
						}
					}
				},
				error: function (e) {
				}
			});
			
			$.ajax({
				type : "POST",
				url: baseRpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x47cefa4f2170e6cba87452e9053540e05182a556"},"latest"]}',
				success : function(data) {
					var supplyEth = web3.eth.abi.decodeParameter('uint256', data.result);					
					rEth = String(supplyEth.toString()).slice(0, -15) / 1000;
					
					if(cBtcPrice > 0 && ethPrice >0 && cbEthPrice > 0 && rdUsdc > 0){
						$(".reth.supply").text((rEth + rCbEth) + " (" + (Math.floor(((rEth * ethPrice) + (rCbEth * cbEthPrice) + (rCbBtc * cBtcPrice)) * 100) / 100) + ")");
						
						if(rEth > 0 && rCbEth > 0 && rdUsdc > 0){
							healthRatio = Math.floor((1 - ((Math.floor(rdUsdc * 100) / 100) / (Math.floor(((rEth * ethPrice) + (rCbEth * cbEthPrice) + (rCbBtc * cBtcPrice)) * 100) / 100) / 0.75))*100);
							
							$(".radiHealthRatio").text(healthRatio + "%");
							
							if(healthRatio <= 10){
								alertCall('radi');
							}
						}
					}
				},
				error: function (e) {
				}
			});
			
			$.ajax({
				type : "POST",
				url: baseRpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x70a08231000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e6538","to":"0x223a4066bd6a30477ead12a7af52125390c735da"},"latest"]}',
				success : function(data) {
					var supplyEth = web3.eth.abi.decodeParameter('uint256', data.result);					
					rCbEth = String(supplyEth.toString()).slice(0, -15) / 1000;
					
					if(cBtcPrice > 0 && ethPrice >0 && cbEthPrice > 0 && rdUsdc > 0){
						$(".reth.supply").text((rEth + rCbEth) + " (" + (Math.floor(((rEth * ethPrice) + (rCbEth * cbEthPrice) + (rCbBtc * cBtcPrice)) * 100) / 100) + ")");
						
						if(rEth > 0 && rCbEth > 0 && rdUsdc > 0){
							healthRatio = Math.floor((1 - ((Math.floor(rdUsdc * 100) / 100) / (Math.floor(((rEth * ethPrice) + (rCbEth * cbEthPrice) + (rCbBtc * cBtcPrice)) * 100) / 100) / 0.75))*100);
							
							$(".radiHealthRatio").text(healthRatio + "%");
							
							if(healthRatio <= 10){
								alertCall('radi');
							}
						}
					}
				},
				error: function (e) {
				}
			});
			
			
			
		}
		
		function getDolo(){	
			$.ajax({
				type : "POST",
				url: rpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":3,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0xf9416052000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e653898417228759d4afbd3cdfb6c346ff08e6e71f8cd72286e53ae0a4d54399c29a9","to":"0x6bd780e7fdf01d77e4d475c821f1e7ae05409072"},"latest"]}',
				success : function(data) {
					var arbPos = web3.eth.abi.decodeParameters(["(uint256,uint256)"], data.result);
					var supply = String(arbPos[0][0]).slice(0, -34) / 100;
					var borrow = String(arbPos[0][1]).slice(0, -34) / 100;
					$("span.darb.supply").text(supply);
					$("span.darb.borrow").text(borrow);
					
					var healthRatio = Math.floor((1 - ((Math.floor(borrow)) / ((Math.floor(supply)) / 0.85)))*100);
					$("span.darbHealthRatio").text(healthRatio + '%');
					
					if(healthRatio <= 10){
						alertCall('DOLO');
					}
				},
				error: function (e) {
				}
			});
			
			$.ajax({
				type : "POST",
				url: rpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":5,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0xf9416052000000000000000000000000f712ab8c4505eb4b36a2ff9fa746470be81e65383fae52a6c0e3dd55bf5867fe592768a645679160a7704d5d695a7b2b9e0a7a4f","to":"0x6bd780e7fdf01d77e4d475c821f1e7ae05409072"},"latest"]}',
				success : function(data) {
					var ethPos = web3.eth.abi.decodeParameters(["(uint256,uint256)"], data.result);
					var supply = String(ethPos[0][0]).slice(0, -34) / 100;
					var borrow = String(ethPos[0][1]).slice(0, -34) / 100;
					$("span.deth.supply").text(supply);
					$("span.deth.borrow").text(borrow);
					
					var healthRatio = Math.floor((1 - ((Math.floor(borrow)) / ((Math.floor(supply)) / 0.85)))*100);
					$("span.dethHealthRatio").text(healthRatio + '%');
					
					if(healthRatio <= 10){
						alertCall('DOLO');
					}
				},
				error: function (e) {
				}
			});
		}
		
		function getTokenPrice(nftId, tr){
			var nftIdCode = web3.eth.abi.encodeParameter('uint256', nftId);
			nftIdCode = nftIdCode.replace('0x', '0x99fbab88');
			
			if(showToken.indexOf(nftId) >= 0){
				return;
			}
			
			$.ajax({
				type : "POST",
				url: rpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"' + nftIdCode + '","to":"0xaa277cb7914b7e5514946da92cb9de332ce610ef"},"latest"]}',
				success : function(data) {
					var info = web3.eth.abi.decodeParameters(['uint96', 'address', 'address', 'address'], data.result);
					var token0 = info[2];
					var token1 = info[3];
					
					var c0 = new web3.eth.Contract(tokenAbi, token0);
					c0.methods.symbol().call().then(function(result){ $(tr).find(".t1").text(result);});
					
					var c1 = new web3.eth.Contract(tokenAbi, token1);
					c1.methods.symbol().call().then(function(result){ $(tr).find(".bal0").text(result);});
					
					showToken.push(nftId);
				},
				error: function (e) {
				}
			});
		}
		
		function getAvaxTokenPrice(nftId, tr){
			var nftIdCode = web3.eth.abi.encodeParameter('uint256', nftId);
			nftIdCode = nftIdCode.replace('0x', '0x99fbab88');
			
			if(showToken.indexOf(nftId) >= 0){
				return;
			}
			
			$.ajax({
				type : "POST",
				url: avaxRpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"' + nftIdCode + '","to":"0xaaa78e8c4241990b4ce159e105da08129345946a"},"latest"]}',
				success : function(data) {
					var info = avaxWeb3.eth.abi.decodeParameters(['uint96', 'address', 'address', 'address'], data.result);
					var token0 = info[2];
					var token1 = info[3];
					
					var c0 = new avaxWeb3.eth.Contract(tokenAbi, token0);
					c0.methods.symbol().call().then(function(result){ $(tr).find(".t1").text(result);});
					
					var c1 = new avaxWeb3.eth.Contract(tokenAbi, token1);
					c1.methods.symbol().call().then(function(result){ $(tr).find(".bal0").text(result);});
					
					showToken.push(nftId);
				},
				error: function (e) {
				}
			});
		}
		
		function getPosition(nftId, tr){
			//https://api-v2-production-a6e6.up.railway.app/apr_backtest?nft_ids=136455
			var nftIdCode = web3.eth.abi.encodeParameter('uint256', nftId);
			nftIdCode = nftIdCode.replace('0x', '0x99fbab88');
			
			$.ajax({
				type : "POST",
				url: rpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":9,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"' + nftIdCode + '","to":"0xaa277cb7914b7e5514946da92cb9de332ce610ef"},"latest"]}',
				success : function(data) {
					var info = web3.eth.abi.decodeParameters(['uint96', 'address', 'address', 'address', 'uint24', 'int24', 'int24', 'uint128'], data.result);
					var token0 = info[2];
					var token1 = info[3];
					var fee = info[4];
					var tickLower = info[5].toString();
					var tickUpper = info[6].toString();
					var liquidity = info[7];
					var tick;
					var pool;
					
					if(sessionStorage.getItem(nftId + 'pool')){
						pool = sessionStorage.getItem(nftId + 'pool');
					}else{
						var q = web3.eth.abi.encodeParameters(['address', 'address', 'uint24'], [token0, token1, fee]).replace('0x', '0x1698ee82');
						$.ajax({
							type : "POST",
							url: rpc,
							async: false,
							contentType: 'application/json',
							data: '{"jsonrpc":"2.0","id":8,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"' + q + '","to":"0xaa2cd7477c451e703f3b9ba5663334914763edf8"},"latest"]}',
							success : function(data) {
								pool = web3.eth.abi.decodeParameter('address', data.result);
								sessionStorage.setItem(nftId + 'pool', pool);
							}
						});
					}
					
					
					$.ajax({
						type : "POST",
						url: rpc,
						contentType: 'application/json',
						data: '{"jsonrpc":"2.0","id":8,"method":"eth_call","params":[{"data":"0x3850c7bd","to":"' + pool + '"},"latest"]}',
						success : function(data) {
							var info = web3.eth.abi.decodeParameters(['uint160', 'int24'], data.result);
							tick = info[1].toString();
							sessionStorage.setItem(nftId + 'tick', tick);
						}
					});
					
					tick = sessionStorage.getItem(nftId + 'tick');

					
					var range = tickUpper - tickLower;
					var tickPos = ((tick - tickLower) / range) * 100;
					var inRange = Math.floor(tickPos * 100) / 100;
					$(tr).find("td.total").text(inRange + "%");
					
					$(tr).find(".inrange").removeClass("alert");
					if(inRange < 3 || inRange > 97){
						//$(tr).find(".inrange").text('No');
						//$(tr).find(".inrange").addClass("alert");
						alertCall('Alert - ram');
					}else{
						$(tr).find(".inrange").text('Yes');
					}
				},
				error: function (e) {
				}
			});
		}
		
		function getRamPosition(nftId, tr){
			$.ajax({
				type : "GET",
				url: "https://api-v2-production-a6e6.up.railway.app/apr_backtest",
				contentType: 'application/json',
				data: '{nft_ids: nftId}',
				success : function(data) {
					var token0 = data['amount0'];
					var token1 = data['amount1'];
					var fee = '';
					var tickLower = data['tick_lower'];
					var tickUpper = data['tick_upper'];
					var liquidity = '';
					var tick = data['tick'];
					var pool;
										
					var range = tickUpper - tickLower;
					var tickPos = ((tick - tickLower) / range) * 100;
					var inRange = Math.floor(tickPos * 100) / 100;
					$(tr).find("td.bal0").text(token0);
					$(tr).find("td.bal1").text(token1);
					$(tr).find("td.total").text(inRange + "%");
					$(tr).find(".inrange").text(inRange + "%");
					
					if(inRange < 3 || inRange > 97){
						//$(tr).find(".inrange").text('No');
						//$(tr).find(".inrange").addClass("alert");
						alertCall('Alert - ram');
					}
				},
				error: function (e) {
				}
			});
		}
		
		function getPhar(){
			$("table.table tbody tr.avax").remove();
			$.ajax({
				type : "GET",
				url: "https://pharaoh-api-production.up.railway.app/nfp_ids?wallet=0xf712ab8c4505eb4b36a2ff9fa746470be81e6538",
				dataType: "json",
				success : function(data) {
					var timebuffer = 1000;
					$.each(data, function(idx, nftId){
						var newTr = $("table.table tfoot tr.avax").clone();
						setTimeout(function(){
							getPharPosition(nftId, newTr);
						}, timebuffer);
						timebuffer += 1000;
						timebuffer += Math.floor(Math.random() * 1000);
						$(newTr).appendTo($("table.table tbody"));
					});
				}
			});	
			
		}
		
		function getPharPosition(nftId, tr){
			$.ajax({
				type : "GET",
				url: "https://pharaoh-api-production.up.railway.app/apr_backtest?nft_ids=" + nftId,
				contentType: 'application/json',
				success : function(data) {
					data = data[0];
					
					var token0 = data['amount0'];
					var token1 = data['amount1'];
					var fee = '';
					var tickLower = data['tick_lower'];
					var tickUpper = data['tick_upper'];
					var liquidity = '';
					var tick = data['tick'];
					var pool;
					
					if(data['boost'] = 0 || (token0 + token1 <= 1)){
						return;
					}
										
					var range = tickUpper - tickLower;
					var tickPos = ((tick - tickLower) / range) * 100;
					var inRange = Math.floor(tickPos * 100) / 100;
					$(tr).find("td.t0").text(data['symbol0']);
					$(tr).find("td.t1").text(data['symbol1']);
					$(tr).find("td.bal0").text(token0);
					$(tr).find("td.bal1").text(token1);
					$(tr).find("td.total").text(token0 + token1);
					$(tr).find(".inrange").text(inRange + "%");

                                        if(data['symbol1'] == 'EURC') return;
					
					if(token0 <= 0 || token1 <= 0){
						//$(tr).find(".inrange").text('No');
						//$(tr).find(".inrange").addClass("alert");
						alertCall('Alert - phar');
					}
				},
				error: function (e) {
				}
			});
		}
		
		function getAvaxPosition(nftId, tr){
			var nftIdCode = web3.eth.abi.encodeParameter('uint256', nftId);
			nftIdCode = nftIdCode.replace('0x', '0x99fbab88');
			
			$.ajax({
				type : "POST",
				url: avaxRpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":9,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"' + nftIdCode + '","to":"0xaaa78e8c4241990b4ce159e105da08129345946a"},"latest"]}',
				success : function(data) {
					var info = web3.eth.abi.decodeParameters(['uint96', 'address', 'address', 'address', 'uint24', 'int24', 'int24', 'uint128'], data.result);
					var token0 = info[2];
					var token1 = info[3];
					var fee = info[4];
					var tickLower = info[5].toString();
					var tickUpper = info[6].toString();
					var liquidity = info[7];
					var tick;
					var pool;
					
					if(sessionStorage.getItem(nftId + 'pool')){
						pool = sessionStorage.getItem(nftId + 'pool');
					}else{
						var q = web3.eth.abi.encodeParameters(['address', 'address', 'uint24'], [token0, token1, fee]).replace('0x', '0x1698ee82');
						$.ajax({
							type : "POST",
							url: avaxRpc,
							async: false,
							contentType: 'application/json',
							data: '{"jsonrpc":"2.0","id":8,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"' + q + '","to":"0xAAA32926fcE6bE95ea2c51cB4Fcb60836D320C42"},"latest"]}',
							success : function(data) {
								pool = web3.eth.abi.decodeParameter('address', data.result);
								sessionStorage.setItem(nftId + 'pool', pool);
							}
						});
					}
					
					
					$.ajax({
						type : "POST",
						url: avaxRpc,
						contentType: 'application/json',
						data: '{"jsonrpc":"2.0","id":8,"method":"eth_call","params":[{"data":"0x3850c7bd","to":"' + pool + '"},"latest"]}',
						success : function(data) {
							var info = web3.eth.abi.decodeParameters(['uint160', 'int24'], data.result);
							tick = info[1].toString();
							sessionStorage.setItem(nftId + 'tick', tick);
						}
					});
					
					tick = sessionStorage.getItem(nftId + 'tick');

					
					var range = tickUpper - tickLower;
					var tickPos = ((tick - tickLower) / range) * 100;
					var inRange = Math.floor(tickPos * 100) / 100;
					$(tr).find("td.total").text(inRange + "%");
					
					$(tr).find(".inrange").removeClass("alert");
					if(inRange < 3 || inRange > 97){
						//$(tr).find(".inrange").text('No');
						//$(tr).find(".inrange").addClass("alert");
						alertCall('Alert - phar');
					}else{
						$(tr).find(".inrange").text('Yes');
					}
				},
				error: function (e) {
				}
			});
		}
		
		function sendEmail(pair) {
			/*
		  Email.send({ 
			SecureToken: "643bd5d0-de86-4ed9-95a0-2bec58502461",
			To: 'toxicyw@gmail.com', 
			From: "sahkokla@outlook.com", 
			Subject: "Outofrange Alert", 
			Body: "OutOfRangeAlert: " + pair, 
		  });*/
		  
		  //fjs4nginwi@pomail.net
		}
	
		function alertCall(msg){
			if(trackjob){
				lastCall = sessionStorage.getItem('alert-' + msg);
				if(lastcall == '' || (new Date() - lastcall > 300000)){
					$.ajax({
						type : "POST",
						url: "https://api.pushover.net/1/messages.json",
						data: {'token': 'aofuvijmgfrqhjab11xrgjjigvf63r', 'user': 'uyhipavxjt4e3j7g7hsedp7f5aphq7', 'message': (msg||'alert'), 'priority': 1}
					});
					lastcall = new Date();
					sessionStorage.setItem('alert-' + msg, new Date());
				}
			}
		}
		
		$(function () {
			function fecthCleo(){
			$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/arbitrum/0xc31e54c7a869b9fcbecc14363cf510d1c41fa443",
					dataType: "json",
					success : function(data) {
						$("span.price.eth").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
						ethPrice = data.pair.priceUsd;
					},
					error: function (e) {
						$.ajax({
							type : "POST",
							url: rpc,
							contentType: 'application/json',
							data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"data":"0xfeaf968c","to":"0x639Fe6ab55C921f74e7fac1ee960C0B6293ba612"},"latest"]}',
							success : function(data) {
								var info = web3.eth.abi.decodeParameters(['uint80', 'int256'], data.result);
								ethPrice = String(info[1].toString()).slice(0, -5) / 1000;
								$("span.price.eth").text(ethPrice);
							},
							error: function (e) {
							}
						});
					}
				});				
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/arbitrum/0x2f5e87c9312fa29aed5c179e456625d79015299c",
					dataType: "json",
					success : function(data) {
						$("span.price.btc").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
						btcPrice = data.pair.priceUsd;
					},
					error: function (e) {
					}
				});
				/*
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/ethereum/0xf4c5e0f4590b6679b3030d29a84857f226087fef",
					dataType: "json",
					success : function(data) {
						$("span.price.mnt").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
					},
					error: function (e) {
					}
				});*/
				/*
				$.ajax({
					type : "GET",
					url: "https://cleopatra-api-production.up.railway.app/nfp_ids?wallet=0xf712ab8c4505eb4b36a2ff9fa746470be81e6538",
					dataType: "json",
					success : function(data) {
						$.each(data, function(idx, val){
							var nftId = val;							
							//console.log(nftId);
							
							$.ajax({
								type : "GET",
								url: "https://cleopatra-api-production.up.railway.app/apr_backtest?nft_ids=" + nftId,
								dataType: "json",		
								success : function(data) {
									var pool = data[0];
									var id = pool.nft_id;
									
									var tr = $("table.table tr.ram." + id);
									if(!tr || tr.length == 0){
										tr = $("table.table tfoot tr.ram").clone();
										$(tr).addClass("ram");
										$(tr).addClass(''+ id);
										$(tr).appendTo($("table.table tbody"));
									}
									
									$(tr).find(".t0").text(pool.symbol0);
									$(tr).find(".t1").text(pool.symbol1);
									//$(tr).find(".inrange").text(ramPool[0]=='0'?'Yes':'No');
									var tick = Math.abs(pool.tick);
									var tickUpper = Math.abs(pool.max_tick);
									var tickLower = Math.abs(pool.min_tick);
									var range = tickUpper - tickLower;
									var tickPos = ((tick - tickLower) / range) * 100;
									var inRange = Math.floor(tickPos * 100) / 100;
									$(tr).find("td.total").text(inRange + "%");
									
									$(tr).find(".inrange").removeClass("alert");
									if(inRange < 3 || inRange > 97){
										//$(tr).find(".inrange").text('No');
										//$(tr).find(".inrange").addClass("alert");
										alertCall('Alert - cleo');
									}else{
										$(tr).find(".inrange").text('Yes');
									}
									
								},
								error: function (e) {
								}
							});
						});
					},
					error: function (e) {
						
					}
				});*/
			}
		
			function fecthRamNft(){
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/arbitrum/0xc31e54c7a869b9fcbecc14363cf510d1c41fa443",
					dataType: "json",
					success : function(data) {
						$("span.price.eth").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
						ethPrice = data.pair.priceUsd;
					},
					error: function (e) {
						$.ajax({
							type : "POST",
							url: rpc,
							contentType: 'application/json',
							data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"data":"0xfeaf968c","to":"0x639Fe6ab55C921f74e7fac1ee960C0B6293ba612"},"latest"]}',
							success : function(data) {
								var info = web3.eth.abi.decodeParameters(['uint80', 'int256'], data.result);
								ethPrice = String(info[1].toString()).slice(0, -5) / 1000;
								$("span.price.eth").text(ethPrice);
							},
							error: function (e) {
							}
						});
					}
				});				
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/arbitrum/0x2f5e87c9312fa29aed5c179e456625d79015299c",
					dataType: "json",
					success : function(data) {
						$("span.price.btc").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
						btcPrice = data.pair.priceUsd;
					},
					error: function (e) {
					}
				});
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/arbitrum/0xC6F780497A95e246EB9449f5e4770916DCd6396A",
					dataType: "json",
					success : function(data) {
						$("span.price.arb").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
						arbPrice = data.pair.priceUsd;
						
						if(ethPrice > 0){
							$("span.price.arb").text($("span.price.arb").text() + ' (' + (Math.floor((arbPrice / ethPrice) * 1000000) / 10000) + ')');
						}
					},
					error: function (e) {
						$.ajax({
							type : "POST",
							url: rpc,
							contentType: 'application/json',
							data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"data":"0xfeaf968c","to":"0xb2A824043730FE05F3DA2efaFa1CBbe83fa548D6"},"latest"]}',
							success : function(data) {
								var info = web3.eth.abi.decodeParameters(['uint80', 'int256'], data.result);
								arbPrice = String(info[1].toString()).slice(0, -5) / 1000;
								$("span.price.arb").text(arbPrice);
							},
							error: function (e) {
							}
						});
					}
				});
				
				$.ajax({
					type : "GET",
					url: "https://api-v2-production-a6e6.up.railway.app/nfp_ids?wallet=0xf712ab8c4505eb4b36a2ff9fa746470be81e6538",
					contentType: 'application/json',
					success : function(data) {
						$.each(data, function(idx, val){
							if(val < 70000){
								return;
							}
							
							var nftId = val;							
							//console.log(nftId);
							
							$.ajax({
								type : "GET",
								url: "https://api-v2-production-a6e6.up.railway.app/apr_backtest?nft_ids=" + nftId,
								dataType: "json",		
								success : function(data) {
									var pool = data[0];
									var id = pool.nft_id;
									
									var tr = $("table.table tr.ram." + id);
									if(!tr || tr.length == 0){
										tr = $("table.table tfoot tr.ram").clone();
										$(tr).addClass("ram");
										$(tr).addClass(''+ id);
										$(tr).appendTo($("table.table tbody"));
									}
									
									$(tr).find(".t0").text(pool.symbol0);
									$(tr).find(".t1").text(pool.symbol1);
									$(tr).find(".bal0").text(pool.amount0.toFixed(2));
									$(tr).find(".bal1").text(pool.amount1.toFixed(2));
									//$(tr).find(".inrange").text(ramPool[0]=='0'?'Yes':'No');
									var tick = Math.abs(pool.tick);
									var tickUpper = Math.abs(pool.tick_upper);
									var tickLower = Math.abs(pool.tick_lower);
									var range = tickUpper - tickLower;
									var tickPos = ((tick - tickLower) / range) * 100;
									var inRange = Math.floor(tickPos * 100) / 100;
									var total = '';
									if(arbPrice > 0 && ethPrice > 0 && pool.amount0 > 0 && pool.amount1 > 0){
										total = (pool.amount0 * ethPrice) + (pool.amount1 * arbPrice);
										$(tr).find("td.total").text(total.toFixed(2));
									}
									$(tr).find("td.inrange").text(inRange + "%");
									
									//$(tr).find(".inrange").removeClass("alert");
									if(inRange < 0 || inRange > 100){
										//$(tr).find(".inrange").text('No');
										//$(tr).find(".inrange").addClass("alert");
										alertCall('Alert - ram');
									}
									
								},
								error: function (e) {
								}
							});
						});
					},
					error: function (e) {
					}
				});
			}
			
		function checkAero(){
			var aeroLimit = 13500000;
			var aeroUsage = 13500000;
			var usdcLimit = 10000000;
			var usdcUsage = 10000000;
			$.ajax({
				type : "POST",
				url: baseRpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x9403b634000000000000000000000000000000000000000000000000000000000000001c","to":"0xf9cfb8a62f50e10adde5aa888b44cf01c5957055"},"latest"]}',
				success : function(data) {
					var info = web3.eth.abi.decodeParameters(['address', 'address', 'address', 'address', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256'], data.result);
					
					aeroLimit = BigInt(info[31]) / BigInt(1000000000000000000);
					usdcLimit = BigInt(info[30]) / BigInt(10000000000);
					
					$("span.uaero.supply").text(aeroLimit);
					$("span.uusdc.supply").text(usdcLimit);
					
					$.ajax({
						type : "POST",
						url: baseRpc,
						contentType: 'application/json',
						data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x13c8e60d0000000000000000000000000000000000000000000000000000000000000039","to":"0xbb505c54d71e9e599cb8435b4f0ceec05fc71cbd"},"latest"]}',
						success : function(data) {
							var info = web3.eth.abi.decodeParameters(['uint256', 'uint256'], data.result);
							
							aeroUsage = BigInt(info[0]) / BigInt(1000000000000000000);
							$("span.uaero.usage").text(aeroUsage);
							if(aeroLimit > aeroUsage && (aeroLimit - aeroUsage > 18000)){
								if(new Date().getUTCHours() < 16 || new Date().getUTCHours() > 22){
									//alertCall('aero opened -' + (aeroLimit - aeroUsage));
								}
							}
						},
						error: function (e) {
						}
					});					
					
					$.ajax({
						type : "POST",
						url: baseRpc,
						contentType: 'application/json',
						data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x13c8e60d0000000000000000000000000000000000000000000000000000000000000038","to":"0xbb505c54d71e9e599cb8435b4f0ceec05fc71cbd"},"latest"]}',
						success : function(data) {
							var info = web3.eth.abi.decodeParameters(['uint256', 'uint256'], data.result);
							
							aeroUsage = BigInt(info[0]) / BigInt(1000000);
							$("span.uusdc.usage").text(aeroUsage);
							//if(usdcLimit > usdcUsage && (usdcLimit - usdcUsage > 10000)){
							//	if(new Date().getUTCHours() < 16 || new Date().getUTCHours() > 22){
									//alertCall('usdc opened -' + (usdcLimit - usdcUsage));
							//	}
							//}
						},
						error: function (e) {
						}
					});
				},
				error: function (e) {
				}
			});
			/*
			$.ajax({
				type : "POST",
				url: baseRpc,
				contentType: 'application/json',
				data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x9403b6340000000000000000000000000000000000000000000000000000000000000016","to":"0xf9cfb8a62f50e10adde5aa888b44cf01c5957055"},"latest"]}',
				success : function(data) {
					var info = web3.eth.abi.decodeParameters(['address', 'address', 'address', 'address', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256', 'uint256'], data.result);
					
					var waeroLimit = BigInt(info[30]) / BigInt(1000000000000);
					$("span.waero.supply").text(waeroLimit);
					
					$.ajax({
						type : "POST",
						url: baseRpc,
						contentType: 'application/json',
						data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"from":"0x0000000000000000000000000000000000000000","data":"0x13c8e60d000000000000000000000000000000000000000000000000000000000000002b","to":"0xbb505c54d71e9e599cb8435b4f0ceec05fc71cbd"},"latest"]}',
						success : function(data) {
							var info = web3.eth.abi.decodeParameters(['uint256', 'uint256'], data.result);
							
							var waeroUsage = BigInt(info[0]) / BigInt(1000000000000000000);
							$("span.waero.usage").text(waeroUsage);
							if(waeroLimit > waeroUsage && (waeroLimit - waeroUsage > 2000)){
								alertCall('waero opened -' + waeroLimit - waeroUsage);
							}
						},
						error: function (e) {
						}
					});
				},
				error: function (e) {
				}
			});
			*/
		}
			
		
			function fetchPool(){
				var ts = new Date().getUTCMilliseconds();
				retroReward = 0;
				ztxReward = 0;
				ztxTvl = 0;
				retroTvl = 0;
				aprMap.clear();
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/arbitrum/0xc31e54c7a869b9fcbecc14363cf510d1c41fa443",
					dataType: "json",
					success : function(data) {
						$("span.price.eth").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
						ethPrice = data.pair.priceUsd;
						if(data.pair.priceUsd > 4000){
							alertCall('eth');
						}
					},
					error: function (e) {
						$.ajax({
							type : "POST",
							url: rpc,
							contentType: 'application/json',
							data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"data":"0xfeaf968c","to":"0x639Fe6ab55C921f74e7fac1ee960C0B6293ba612"},"latest"]}',
							success : function(data) {
								var info = web3.eth.abi.decodeParameters(['uint80', 'int256'], data.result);
								ethPrice = String(info[1].toString()).slice(0, -5) / 1000;
								$("span.price.eth").text(ethPrice);
							},
							error: function (e) {
							}
						});
					}
				});				
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/arbitrum/0x2f5e87c9312fa29aed5c179e456625d79015299c",
					dataType: "json",
					success : function(data) {
						$("span.price.btc").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
						btcPrice = data.pair.priceUsd;
					},
					error: function (e) {
					}
				});
				
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/arbitrum/0xC6F780497A95e246EB9449f5e4770916DCd6396A",
					dataType: "json",
					success : function(data) {
						$("span.price.arb").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
						arbPrice = data.pair.priceUsd;
						
						if(ethPrice > 0){
							$("span.price.arb").text($("span.price.arb").text() + ' (' + (Math.floor((arbPrice / ethPrice) * 1000000) / 10000) + ')');
						}
					},
					error: function (e) {
						$.ajax({
							type : "POST",
							url: rpc,
							contentType: 'application/json',
							data: '{"jsonrpc":"2.0","id":1,"method":"eth_call","params":[{"data":"0xfeaf968c","to":"0xb2A824043730FE05F3DA2efaFa1CBbe83fa548D6"},"latest"]}',
							success : function(data) {
								var info = web3.eth.abi.decodeParameters(['uint80', 'int256'], data.result);
								arbPrice = String(info[1].toString()).slice(0, -5) / 1000;
								$("span.price.arb").text(arbPrice);
							},
							error: function (e) {
							}
						});
					}
				});
				
				/*
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/arbitrum/0xe6ea93ba4ae9ee6520e55affebbdb38ed6c233a4",
					dataType: "json",
					success : function(data) {
						$("span.price.ztx").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24 +')');
						ztxPrice = data.pair.priceUsd;
					},
					error: function (e) {
					}
				});*/
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/base/0x3eb2a8015de1419a5089dab37b0056f0fc24f821",
					dataType: "json",
					success : function(data) {
						$("span.price.symm").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24 +')');
						ztxPrice = data.pair.priceUsd;
					},
					error: function (e) {
					}
				});
				
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/bsc/0x51bd5e6d3da9064d59bcaa5a76776560ab42ceb8",
					dataType: "json",
					success : function(data) {
						$("span.price.thena").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
						if(data.pair.priceChange.h1 >25 || data.pair.priceChange.h6 > 50 || data.pair.priceChange.h1 < -20){
							//alertCall('thena');
						}
					},
					error: function (e) {
					}
				});
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/arbitrum/0x688547381eec7c1d3d9eba778fe275d1d7e03946",
					dataType: "json",
					success : function(data) {
						$("span.price.ram").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
						ramPrice = data.pair.priceUsd;
					},
					error: function (e) {
					}
				});
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/base/0x9e4cb8b916289864321661ce02cf66aa5ba63c94",
					dataType: "json",
					success : function(data) {
						$("span.price.deus").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
					},
					error: function (e) {
					}
				});
				/*
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/bsc/0xDC1e387fC2697F3737EE197712BfeF9e1101ccd5",
					dataType: "json",
					success : function(data) {
						$("span.price.pion").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
					},
					error: function (e) {
					}
				});		
				*/
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/base/0x6cdcb1c4a4d1c3c6d054b27ac5b77e89eafb971d",
					dataType: "json",
					success : function(data) {
						$("span.price.aero").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
						if(data.pair.priceChange.h1 >12 || data.pair.priceChange.h6 > 30 || data.pair.priceChange.h1 < -10 || data.pair.priceChange.h6 < -20){
							//alertCall('aero');
						}
						if(data.pair.priceUsd > 2.5){
							//alertCall('aero');
						}
					},
					error: function (e) {
					}
				});
				
				/*
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/base/0x2d25e0514f23c6367687de89bd5167dc754d4934",
					dataType: "json",
					success : function(data) {
						$("span.price.tarot").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
						if(data.pair.priceChange.h1 >10 || data.pair.priceChange.h6 > 20 || data.pair.priceChange.h1 < -10){
							alertCall('tarot');
						}
					},
					error: function (e) {
					}
				});
				
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/sonic/0xcd4d2b142235d5650ffa6a38787ed0b7d7a51c0c",
					dataType: "json",
					success : function(data) {
						$("span.price.scusd").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
						if(data.pair.priceChange.h6 < -10 || data.pair.priceChange.h1 < -5){
							alertCall('scusd');
						}
					},
					error: function (e) {
					}
				});
				*/
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/sonic/0x25f746bb206041ed8da6f08ed1d32454a5856d37",
					dataType: "json",
					success : function(data) {
						$("span.price.ws").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
						wsPrice = data.pair.priceUsd;
						if(data.pair.priceChange.h6 < -20 || data.pair.priceChange.h1 < -10){
							//alertCall('ws');
						}
						
						if(data.pair.priceUsd > 0.39 || data.pair.priceUsd < 0.27){
							//alertCall('ws');
						}
					},
					error: function (e) {
					}
				});
				
				$.ajax({
					type : "GET",
					url: 'https://min-api.cryptocompare.com/data/pricemultifull?fsyms=ETH&tsyms=USD',
					contentType: 'application/json',
					success : function(data) {
						ethPrice = data.RAW.ETH.USD.PRICE;
						if(ethPrice >= 4100){
							//alertCall('eth');
						}
					},
					error: function (e) {
					}
				});
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/base/0xa6385c73961dd9c58db2ef0c4eb98ce4b60651e8",
					dataType: "json",
					success : function(data) {
						wstEthPrice = data.pair.priceUsd;
						if(wstEthPrice >= 4300){
							//alertCall('wsteth');
						}
					},
					error: function (e) {
					}
				});
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/unichain/0x97e4442bca2c069f9060f3b8eef52eb25c98c245",
					dataType: "json",
					success : function(data) {
						$("span.price.catx").text(data.pair.priceUsd);
					},
					error: function (e) {
					}
				});
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/avalanche/0x0d9fd6dd9b1ff55fb0a9bb0e5f1b6a2d65b741a3",
					dataType: "json",
					success : function(data) {
						$("span.price.black").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
					},
					error: function (e) {
					}
				});
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/linea/0x5c1bf4b7563c460282617a0304e3cde133200f70",
					dataType: "json",
					success : function(data) {
						$("span.price.rex").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
					},
					error: function (e) {
					}
				});
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/avalanche/0xcd4f57d6b160b4ef2dfb78ad1c76cc4242edb4ce",
					dataType: "json",
					success : function(data) {
						$("span.price.eurc").text(data.pair.priceUsd);
						if(data.pair.priceUsd > 1.19){
							//alertCall('eurc');
						}
					},
					error: function (e) {
					}
				});
				
				$.ajax({
				type : "GET",
				url: "https://api.dexscreener.com/latest/dex/pairs/avalanche/0x864d4e5ee7318e97483db7eb0912e09f161516ea",
				dataType: "json",
				success : function(data) {
					$("span.price.avax").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
					if(data.pair.priceUsd > 29){
						alertCall('avax');
					}
				},
				error: function (e) {
				}
				});
				
				$.ajax({
				type : "GET",
				url: "https://api.dexscreener.com/latest/dex/pairs/avalanche/0x9d848cf080c46b92b797218835ae7e89e04c1515",
				dataType: "json",
				success : function(data) {
					$("span.price.super").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
				},
				error: function (e) {
				}
				});
				
				$.ajax({
				type : "GET",
				url: "https://api.dexscreener.com/latest/dex/pairs/avalanche/0xedcfa2d80cf06fb7642e956a1e95dbc37c75995b",
				dataType: "json",
				success : function(data) {
					$("span.price.croc").text(data.pair.priceUsd + ' (' + data.pair.priceNative + ')');
				},
				error: function (e) {
				}
				});
				
				/*
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/base/0x7a823ff83d2a87ae7570a9934b0dc8b87be9c14a",
					dataType: "json",
					success : function(data) {
						$("span.price.star").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
						if(data.pair.priceChange.h1 >10 || data.pair.priceChange.h6 > 20 || data.pair.priceChange.h1 < -10){
							alertCall('star');
						}
					},
					error: function (e) {
					}
				});*/
				/*
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/base/0x418457ca08fa5ec77f811b105f2c585cd051ac10",
					dataType: "json",
					success : function(data) {
						$("span.price.usdp").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
						if(data.pair.priceChange.h1 < -5 || data.pair.priceChange.h1 < -10){
							//alertCall('usd+');
						}
					},
					error: function (e) {
					}
				});
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/base/0x61366a4e6b1db1b85dd701f2f4bfa275ef271197",
					dataType: "json",
					success : function(data) {
						$("span.price.ovn").text(data.pair.priceUsd + ' (' + data.pair.priceChange.h1 +'|' + data.pair.priceChange.h6 + '|' + data.pair.priceChange.h24+')');
						if(data.pair.priceChange.h1 < -10 || data.pair.priceChange.h6 < -20){
							//alertCall('ovn');
						}
					},
					error: function (e) {
					}
				});
				*/

				
				/*
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/mantle/0xeb67e93e820be77e7ed134d39fe1e18b62e86fba",
					dataType: "json",
					success : function(data) {
						var lower = 1.0207105;
						var upper = 1.0211189;
						
						var ethPrice = 1 / parseFloat(data.pair.priceNative);
						$("span.cleo.current").text(ethPrice);
						$("span.cleo.lower").text(lower);
						$("span.cleo.upper").text(upper);
						
						var pos = ethPrice - lower;
						$("span.cleoRange").text((pos/(upper - lower))*100);
						
						if(ethPrice < lower){
							alertCall('cleo');
						}
						
						if(ethPrice > upper){
							alertCall('cleo');
						}
					},
					error: function (e) {
					}
				});		
				*/
				
				if(!trackjob){
				/*
					$.ajax({
						type : "GET",
						url: "https://api.angle.money/v3/merkl?user=0xf712ab8c4505eb4b36a2ff9fa746470be81e6538&chainIds=42161",
						dataType: "json",
						success : function(data) {
							$("table.table tbody tr.arb").empty();
							var pools = data[42161].pools;
							$.each(pools, function(){
								var pool = $(this)[0];
								if(pool){
									if(pool.userTVL > 0){
										ztxTvl += pool.userTVL;
										aprMap.set(pool.symbolToken0 + '-' + pool.symbolToken1, {tvl: pool.userTVL, apr: pool.aprs['User current APR ']});
										
										var tr = $("table.table tfoot tr.arb").clone();
									
										$(tr).find(".t0").text(pool.symbolToken0);
										$(tr).find(".t1").text(pool.symbolToken1);
										$(tr).find(".bal0").text(parseFloat(pool.userBalanceToken0).toFixed(3));
										$(tr).find(".bal1").text(parseFloat(pool.userBalanceToken1).toFixed(3));
										$(tr).find(".total").text(Math.round(pool.userTVL) + ' (' + Math.round((pool.userTVL / pool.tvl)*100) + '%)');
										$(tr).find(".inrange").text(((pool.userInRangeLiquidity/pool.userTotalLiquidity)*100)+ '%');
										$(tr).find(".apr").text(Math.round(pool.aprs['User current APR (based on last distribution boost)']) + '%');
										
										$(tr).appendTo($("table.table tbody"));
										
										if(pool.userInRangeLiquidity == 0){
											$(tr).find(".inrange").addClass("alert");
											//alertCall();
											
											if(lastmail == '' || (new Date() - lastmail > 1200000)){
												sendEmail(pool.symbolToken0 + " - " + pool.symbolToken1);
												lastmail = new Date();
											}
										}
										
										if(pool.rewardsPerToken){
											var pendingReward = 0;
											$(pool.rewardsPerToken).each(function(){
												var reward = $(this)[0]['0x1C43D05be7E5b54D506e3DdB6f0305e8A66CD04e'];
												if(reward && reward.unclaimed > 0){
													pendingReward += reward.unclaimed;												
												}
											});
											
											if(pendingReward > 0){
												$(tr).find(".reward").text(parseFloat(pendingReward * ztxPrice).toFixed(2));
												ztxReward += pendingReward;
												$("span.reward").text(Math.round((ztxReward * ztxPrice)) + ' + ' + Math.round((retroReward * oretroPrice)));
											}
										}
										
										if(pool.pool == '0xc9AA2fEB84F0134a38d5D1c56b1E787191327Cb0'){
											$(tr).find(".total").text(Math.round(pool.userTVL) + ' (' + Math.round((pool.userBalanceToken1/pool.token1InPool)*100) + '%)');
										}
									}
								}
							});
							
							$("span.ztxTvl").text(Math.round(ztxTvl));
							$("span.userTvl").text(Math.round(ztxTvl + retroTvl + gammaTvl));
							userTvl = Math.round(ztxTvl + retroTvl + gammaTvl);
							
							var aprCount = 0;
							aprMap.forEach((obj, key) => {
								if(!$.isNumeric(obj.apr) || !$.isNumeric(obj.tvl)){
									return;
								}
								aprCount += obj.tvl * obj.apr;
							});
							
							$("span.avgApr").text(Math.round((aprCount/(ztxTvl+retroTvl))));
						},
						error: function (e) {
						}
					});
					
					$.ajax({
						type : "GET",
						url: "https://api.angle.money/v3/merkl?user=0xf712ab8c4505eb4b36a2ff9fa746470be81e6538&chainIds=1",
						dataType: "json",
						success : function(data) {
							$("table.table tbody tr.eth").empty();
							//console.log(data);
							var pools = data[1].pools;
							$.each(pools, function(){
								var pool = $(this)[0];
								if(pool){
									if(pool.userTVL > 0){
										retroTvl += pool.userTVL;
										aprMap.set(pool.symbolToken0 + '-' + pool.symbolToken1, {tvl: pool.userTVL, apr: pool.aprs['User current APR (based on last distribution boost)']});									
										
										var tr = $("table.table tfoot tr.eth").clone();
									
										$(tr).find(".t0").text(pool.symbolToken0);
										$(tr).find(".t1").text(pool.symbolToken1);
										$(tr).find(".bal0").text(parseFloat(pool.userBalanceToken0).toFixed(3));
										$(tr).find(".bal1").text(parseFloat(pool.userBalanceToken1).toFixed(3));
										$(tr).find(".total").text(Math.round(pool.userTVL) + ' (' + Math.round((pool.userTVL / pool.tvl)*100) + '%)');
										$(tr).find(".inrange").text(((pool.userInRangeLiquidity/pool.userTotalLiquidity)*100)+ '%');
										$(tr).find(".apr").text(Math.round(pool.aprs['User current APR ']) + '%');
										
										$(tr).appendTo($("table.table tbody"));
										
										if(pool.userInRangeLiquidity == 0){
											$(tr).find(".inrange").addClass("alert");
											//alertCall();
											
											if(lastmail == '' || (new Date() - lastmail > 1200000)){
												sendEmail(pool.symbolToken0 + " - " + pool.symbolToken1);
												lastmail = new Date();
											}
										}
										
										if(pool.rewardsPerToken){
											var pendingReward = 0;
											$(pool.rewardsPerToken).each(function(){
												var reward = $(this)[0]['0xEdb73D4ED90bE7A49D06d0D940055e6d181d22fa'];
												if(reward){												
													pendingReward += reward.breakdownOfUnclaimed[Object.keys(reward.breakdownOfUnclaimed)[0]];												
												}
											});
											
											if(pendingReward > 0){
												$(tr).find(".reward").text(parseFloat(pendingReward * bluePrice).toFixed(2));
												retroReward += pendingReward;
												$("span.reward").text(Math.round(Math.round((retroReward * bluePrice))));
											}
										}
									}
								}
							});
							
							$("span.retroTvl").text(Math.round(retroTvl));
							$("span.userTvl").text(Math.round(ztxTvl + retroTvl + gammaTvl));
							userTvl = Math.round(ztxTvl + retroTvl + gammaTvl);
							var aprCount = 0;
							aprMap.forEach((obj, key) => {
								if(!$.isNumeric(obj.apr) || !$.isNumeric(obj.tvl)){
									return;
								}
								aprCount += obj.tvl * obj.apr;
							});
							
							$("span.avgApr").text(Math.round((aprCount/(ztxTvl+retroTvl))));
						},
						error: function (e) {
						}
					});
					
					$.ajax({
						type : "GET",
						url: "https://api.angle.money/v3/merkl?user=0xf712ab8c4505eb4b36a2ff9fa746470be81e6538&chainIds=137",
						dataType: "json",
						success : function(data) {
							$("table.table tbody tr.polygon").empty();
							//console.log(data);
							var pools = data[137].pools;
							$.each(pools, function(){
								var pool = $(this)[0];
								if(pool){
									if(pool.userTVL > 0){
										retroTvl += pool.userTVL;
										aprMap.set(pool.symbolToken0 + '-' + pool.symbolToken1, {tvl: pool.userTVL, apr: pool.aprs['User current APR (based on last distribution boost)']});									
										
										var tr = $("table.table tfoot tr.polygon").clone();
									
										$(tr).find(".t0").text(pool.symbolToken0);
										$(tr).find(".t1").text(pool.symbolToken1);
										$(tr).find(".bal0").text(parseFloat(pool.userBalanceToken0).toFixed(3));
										$(tr).find(".bal1").text(parseFloat(pool.userBalanceToken1).toFixed(3));
										$(tr).find(".total").text(Math.round(pool.userTVL) + ' (' + Math.round((pool.userTVL / pool.tvl)*100) + '%)');
										$(tr).find(".inrange").text(((pool.userInRangeLiquidity/pool.userTotalLiquidity)*100)+ '%');
										$(tr).find(".apr").text(Math.round(pool.aprs['User current APR ']) + '%');
										
										$(tr).appendTo($("table.table tbody"));
										
										if(pool.userInRangeLiquidity == 0){
											$(tr).find(".inrange").addClass("alert");
											//alertCall();
											
											if(lastmail == '' || (new Date() - lastmail > 1200000)){
												sendEmail(pool.symbolToken0 + " - " + pool.symbolToken1);
												lastmail = new Date();
											}
										}
										
										if(pool.rewardsPerToken){
											var pendingReward = 0;
											$(pool.rewardsPerToken).each(function(){
												var reward = $(this)[0]['0x3A29CAb2E124919d14a6F735b6033a3AaD2B260F'];
												if(reward){												
													pendingReward += reward.unclaimed;												
												}
											});
											
											if(pendingReward > 0){
												$(tr).find(".reward").text(parseFloat(pendingReward * oretroPrice).toFixed(2));
												retroReward += pendingReward;
												$("span.reward").text(Math.round(Math.round((retroReward * oretroPrice))));
											}
										}
									}
								}
							});
							
							$("span.retroTvl").text(Math.round(retroTvl));
							$("span.userTvl").text(Math.round(ztxTvl + retroTvl + gammaTvl));
							userTvl = Math.round(ztxTvl + retroTvl + gammaTvl);
							var aprCount = 0;
							aprMap.forEach((obj, key) => {
								if(!$.isNumeric(obj.apr) || !$.isNumeric(obj.tvl)){
									return;
								}
								aprCount += obj.tvl * obj.apr;
							});
							
							$("span.avgApr").text(Math.round((aprCount/(ztxTvl+retroTvl))));
						},
						error: function (e) {
						}
					});					*/
				}
			}
			
			function getArc(){				
				$.ajax({
					type : "GET",
					dataType: 'json',
					//url: "http://api.arcadia.finance/v1/api/accounts/overview?chain_id=8453&account=0x97aee25121Eb472D8ADf9cc578dbd0c396B953f1",
					url: "https://34.30.240.131/s2134214sz314244zxvv/api",
					success : function(data) {
						$(".arc.healthRatio").text(Math.round(data.health_factor * 10000) / 100 + "%");
						if((Math.round(data.health_factor * 10000) / 100) < 5){
							alertCall('arcadia');
						}
						$(".arc.tick").text(Math.round(data.assets[2].asset_details.ticks.tick_lower_price * 10000) /10000 + " - " + Math.round(data.assets[2].asset_details.ticks.tick_upper_price * 10000) / 10000 + " (" + Math.round(data.assets[2].asset_details.ticks.tick_current_price * 10000) / 10000 + ")");
						if(data.assets[2].out_of_range == true){
							$(".arc.tick").css('color', 'red');
							alertCall('arcadia');
						}else{
							$(".arc.tick").css('color', 'inherit');
						}
						$(".arc.netValue").text(Math.round((data.total_value - data.debt) / 100000) /10);
					},
					error: function (e) {
					}
				});
			}
			
			function vfat(){				
				var delist = new Map();
				
				$.ajax({
					type : "GET",
					dataType: 'json',
					url: "https://api.vfat.io/v3/farm-balances?addresses=0xf712ab8c4505eb4b36a2ff9fa746470be81e6538",
					success : function(data) {
						$.each(data, function(v, item){
								var isVfat = !!item.sickleAddress;
								var bala = (item.underlying[0].price * item.underlying[0].balance) || 10;
								var balb = (item.underlying[1].price * item.underlying[1].balance) || 10;
								var tr = $("table.table tfoot tr.avax").clone();
								
								if(bala + balb < 100){
									return;
								}
								
								if(item.underlying[0].balance == 0 || item.underlying[1].balance == 0){
									if(!isVfat){
										alertCall('' + item.underlying[0].symbol + '-' + item.underlying[1].symbol);
									}
									$(tr).find(".inrange").text('N');
									$(tr).find(".inrange").css('color','red');
								}else{
									$(tr).find(".inrange").text('Y');
								}								
								
								$(tr).find(".t0").text(item.underlying[0].symbol);
								$(tr).find(".t1").text(item.underlying[1].symbol);
								$(tr).find(".bal0").text(parseFloat(item.underlying[0].balance).toFixed(3) + '(' + parseFloat(bala).toFixed(3) + ')');
								$(tr).find(".bal1").text(parseFloat(item.underlying[1].balance).toFixed(3) + '(' + parseFloat(balb).toFixed(3) + ')');
								$(tr).find(".total").text(parseFloat(bala + balb).toFixed(3));
								if(item.pendingRewards != null && item.pendingRewards.length > 0 && item.pendingRewards[0].amount > 0){
									var rewardAmount = parseFloat(item.pendingRewards[0].amount / Math.pow(10, item.pendingRewards[0].token.decimals)).toFixed(0);
									
									$(tr).find(".reward").text(parseFloat(rewardAmount * item.pendingRewards[0].token.price).toFixed(2));
								}
								
								
								delist.set(''+(bala+balb), tr);
						});
						
						$.ajax({
							type : "GET",
							dataType: 'json',
							url: "https://api.vfat.io/v3/farm-balances?addresses=0x66e14CB99D1E0B474325655DEcA699b9e4b15CA2",
							success : function(data) {
								$.each(data, function(v, item){
										var isVfat = !!item.sickleAddress;
										var bala = (item.underlying[0].price * item.underlying[0].balance) || 10;
										var balb = (item.underlying[1].price * item.underlying[1].balance) || 10;
										var tr = $("table.table tfoot tr.avax").clone();
										
										if(bala + balb < 10){
											return;
										}
										
										if(item.underlying[0].balance == 0 || item.underlying[1].balance == 0){
											if(!isVfat){
												alertCall('' + item.underlying[0].symbol + '-' + item.underlying[1].symbol);
											}
											$(tr).find(".inrange").text('N');
											$(tr).find(".inrange").css('color','red');
										}else{
											$(tr).find(".inrange").text('Y');
										}								
										
										$(tr).find(".t0").text(item.underlying[0].symbol);
										$(tr).find(".t1").text(item.underlying[1].symbol);
										$(tr).find(".bal0").text(parseFloat(item.underlying[0].balance).toFixed(3) + '(' + parseFloat(bala).toFixed(3) + ')');
										$(tr).find(".bal1").text(parseFloat(item.underlying[1].balance).toFixed(3) + '(' + parseFloat(balb).toFixed(3) + ')');
										$(tr).find(".total").text(parseFloat(bala + balb).toFixed(3));
										if(item.pendingRewards != null && item.pendingRewards.length > 0 && item.pendingRewards[0].amount > 0){
											var rewardAmount = parseFloat(item.pendingRewards[0].amount / Math.pow(10, item.pendingRewards[0].token.decimals)).toFixed(0);
											
											$(tr).find(".reward").text(parseFloat(rewardAmount * item.pendingRewards[0].token.price).toFixed(2));
										}
										
										
										delist.set(''+(bala+balb), tr);
								});
								const sorted = new Map([...delist.entries()].sort(([a], [b]) => b - a));
								$("table.table tbody tr").remove();
								sorted.forEach(function(tr){									
									$(tr).appendTo($("table.table tbody"));
								});
							},
							error: function (e) {
							}
						});
						//const sorted = new Map([...delist.entries()].sort(([a], [b]) => b - a));
						
						//sorted.forEach(function(tr){
							
						//	$(tr).appendTo($("table.table tbody"));
						//});
					},
					error: function (e) {
					}
				});
			}

			fetchPool();
			//fecthCleo();
			//fecthBalance();
			//fecthRamNft();
			getSilo();
			getAave();
			//getDolo();
			//checkAero();
			//getPhar();
			//getArc();
			vfat();
						
			setInterval(function () {
				//fecthRamNft();
				//fecthCleo();
				//getBaseSilo();
				//getDolo();
				//checkAero();
				fetchPool();
				//getRadi();
				//getArc();
				//getPhar();
				getSilo();
				getAave();
				vfat();
			}, 30000);
			
			setInterval(function () {
				//fecthRamNft();
				//fecthCleo();
				//getSilo();
				//getDolo();
				//checkAero();
				//getSilo();
				//getAave();
			}, 5000);
			
		});
    </script>

  </body>

</html>