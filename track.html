<!DOCTYPE html>

<html lang="en">

  <head>

    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>RetroTrackor</title>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
	 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- Styles -->

    <style>

      body {
		background-color: black;
		color: #ab9a83;
        padding-top: 15px;

      }

      h1 {

        margin: 15px 0px;

      }

    </style>

  </head>

  <body>

    <div class="container">

      <div class="row">

        <div class="col-lg-12 text-center" >

          <div class="container">
			ZTX: <span class="ztx price"></span>&nbsp;deus: <span class="deus price"></span><br/>
			retro: <span class="retro price"></span>&nbsp;oretro: <span class="oretro price"></span><br/>
			eth: <span class="eth price"></span>&nbsp;btc: <span class="btc price"></span>&nbsp;matic: <span class="matic price"></span><br/>
			thena: <span class="thena price"></span>&nbsp;ram: <span class="ram price"></span><br/>			
          </div>
		  <br/>
          <table class="table">

            <thead>

              <tr>
				<th scope="col">0</th>
                <th scope="col">1</th>
                <th scope="col">0</th>
                <th scope="col">1</th>
                <th scope="col">Total</th>
				<th scope="col">InRange</th>
				<th scope="col">R</th>
              </tr>

            </thead>

            <tbody>
				<tr>
					<td class="t0"></td>
					<td class="t1"></td>
					<td class="bal0"></td>
					<td class="bal1"></td>
					<td class="total"></td>
					<td class="inrange"></td>
					<td class="apr"></td>
				</tr>
            </tbody>
			<tfoot style="display:none;">
				<tr class="polygon">
					<td class="t0"></td>
					<td class="t1"></td>
					<td class="bal0"></td>
					<td class="bal1"></td>
					<td class="total"></td>
					<td class="inrange"></td>
					<td class="apr"></td>
				</tr>
				<tr class="arb">
					<td class="t0"></td>
					<td class="t1"></td>
					<td class="bal0"></td>
					<td class="bal1"></td>
					<td class="total"></td>
					<td class="inrange"></td>
					<td class="apr"></td>
				</tr>
          </table>

		  <br/>

        </div>

      </div>

    </div>

    <!-- Web3 -->

    <script>
		$(function () {
			function fetchPool(){
				var ts = new Date().getUTCMilliseconds();
				$.ajax({
					type : "GET",
					url: "https://api.angle.money/v1/merkl?chainId=42161&user=0xF712aB8c4505eB4B36a2Ff9Fa746470be81E6538",
					dataType: "json",
					success : function(data) {
						$("table.table tbody tr.arb").empty();
						var pools = data.pools;
						$.each(pools, function(){
							var pool = $(this)[0];
							if(pool){
								if(pool.userTVL > 0){
									var tr = $("table.table tfoot tr.arb").clone();
								
									$(tr).find(".t0").text(pool.tokenSymbol0);
									$(tr).find(".t1").text(pool.tokenSymbol1);
									$(tr).find(".bal0").text(pool.userTotalBalance0);
									$(tr).find(".bal1").text(pool.userTotalBalance1);
									$(tr).find(".total").text(pool.userTotalLiquidity);
									$(tr).find(".inrange").text(pool.userInRangeLiquidity);
									$(tr).find(".apr").text(pool.aprs['User current APR ']);
									
									$(tr).appendTo($("table.table tbody"));
								}
							}
						});
					},
					error: function (e) {
					}
				});
				
				$.ajax({
					type : "GET",
					url: "https://api.angle.money/v1/merkl?chainId=137&user=0xF712aB8c4505eB4B36a2Ff9Fa746470be81E6538",
					dataType: "json",
					success : function(data) {
						$("table.table tbody tr.polygon").empty();
						//console.log(data);
						var pools = data.pools;
						$.each(pools, function(){
							var pool = $(this)[0];
							if(pool){
								if(pool.userTVL > 0){
									var tr = $("table.table tfoot tr.polygon").clone();
								
									$(tr).find(".t0").text(pool.tokenSymbol0);
									$(tr).find(".t1").text(pool.tokenSymbol1);
									$(tr).find(".bal0").text(pool.userTotalBalance0);
									$(tr).find(".bal1").text(pool.userTotalBalance1);
									$(tr).find(".total").text(pool.userTotalLiquidity);
									$(tr).find(".inrange").text(pool.userInRangeLiquidity);
									$(tr).find(".apr").text(pool.aprs['User current APR (based on last distribution boost)']);
									
									$(tr).appendTo($("table.table tbody"));
								}
							}
						});
					},
					error: function (e) {
					}
				});
				
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/arbitrum/0xe6ea93ba4ae9ee6520e55affebbdb38ed6c233a4",
					dataType: "json",
					success : function(data) {
						$("span.price.ztx").text(data.pair.priceUsd + '(' + data.pair.priceChange.h1 +',' + data.pair.priceChange.h6 + ',' + data.pair.priceChange.h24 +')');
					},
					error: function (e) {
					}
				});
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/polygon/0xb47a07966ce6812702c0567d03725f1b37e27877",
					dataType: "json",
					success : function(data) {
						$("span.price.retro").text(data.pair.priceUsd + '(' + data.pair.priceChange.h1 +',' + data.pair.priceChange.h6 + ',' + data.pair.priceChange.h24+')');
					},
					error: function (e) {
					}
				});
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/polygon/0x387fbce5e2933bd3a7243d0be2aac8fd9ab3d55d",
					dataType: "json",
					success : function(data) {
						$("span.price.oretro").text(data.pair.priceNative + '(' + data.pair.priceChange.h1 +',' + data.pair.priceChange.h6 + ',' + data.pair.priceChange.h24+')');
					},
					error: function (e) {
					}
				});
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/arbitrum/0xc31e54c7a869b9fcbecc14363cf510d1c41fa443",
					dataType: "json",
					success : function(data) {
						$("span.price.eth").text(data.pair.priceUsd + '(' + data.pair.priceChange.h1 +',' + data.pair.priceChange.h6 + ',' + data.pair.priceChange.h24+')');
					},
					error: function (e) {
					}
				});
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/arbitrum/0x2f5e87c9312fa29aed5c179e456625d79015299c",
					dataType: "json",
					success : function(data) {
						$("span.price.btc").text(data.pair.priceUsd + '(' + data.pair.priceChange.h1 +',' + data.pair.priceChange.h6 + ',' + data.pair.priceChange.h24+')');
					},
					error: function (e) {
					}
				});
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/polygon/0x6e7a5fafcec6bb1e78bae2a1f0b612012bf14827",
					dataType: "json",
					success : function(data) {
						$("span.price.matic").text(data.pair.priceUsd + '(' + data.pair.priceChange.h1 +',' + data.pair.priceChange.h6 + ',' + data.pair.priceChange.h24+')');
					},
					error: function (e) {
					}
				});
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/bsc/0x51bd5e6d3da9064d59bcaa5a76776560ab42ceb8",
					dataType: "json",
					success : function(data) {
						$("span.price.thena").text(data.pair.priceUsd + '(' + data.pair.priceChange.h1 +',' + data.pair.priceChange.h6 + ',' + data.pair.priceChange.h24+')');
					},
					error: function (e) {
					}
				});
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/arbitrum/0x688547381eec7c1d3d9eba778fe275d1d7e03946",
					dataType: "json",
					success : function(data) {
						$("span.price.ram").text(data.pair.priceUsd + '(' + data.pair.priceChange.h1 +',' + data.pair.priceChange.h6 + ',' + data.pair.priceChange.h24+')');
					},
					error: function (e) {
					}
				});
				
				$.ajax({
					type : "GET",
					url: "https://api.dexscreener.com/latest/dex/pairs/bsc/0x6a524c7328eb652248d1a3786f9db0e74ca961f0",
					dataType: "json",
					success : function(data) {
						$("span.price.deus").text(data.pair.priceUsd + '(' + data.pair.priceChange.h1 +',' + data.pair.priceChange.h6 + ',' + data.pair.priceChange.h24+')');
					},
					error: function (e) {
					}
				});
			}

			fetchPool();
			
			setInterval(function () {
				fetchPool();
			}, 60000);

		});
    </script>

  </body>

</html>

